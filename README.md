# Avito — собственная версия

## Изучение области компетенции

* Создайте прототип макета, чтобы определить будущие компоненты приложения
* Используйте Sequelize ORM для работы с БД
* Выполните все четыре части [CRUD](http://en.wikipedia.org/wiki/Create,_read,_update_and_delete): создавать, читать, обновлять и удалять

## Общие сведения

Мы будем вдохновляться сервисом `Avito` и создадим простую версию MVP версию, для прокачки навыков серверной и клиентской разработки. Релизы описаны общими тезисами для более гибкой реализации со стороны разработчика.


### Release 0: Прототип макета приложения

Схематично сформируйте макет приложения и разбейте его на компоненты. 
Выясните, какие страницы нужны для вашего приложения, а затем набросайте основную разметку каждой страницы и связи между ними.

Возможно у вашего приложения будут две основные модели: `Advertisements` и `Category`. 
Продумайте, как будет удобнее работать с данными. 
`Category` — что-то вроде "Аренда квартиры" или "Автозапчасти"

Подумай над тем, какие страницы нужно создать.

Как минимум, вам понадобятся:
1. Страница, в которой перечислены все категории
2. Страница, в которой перечислены все объявления данной категории
3. Страница, которая позволяет создать новое объвеление в данной категории


### Release 1: Создайте структуру

Наша структура будет не такой простой как раньше. Нам понадобятся URL-адреса, которые выглядят как `/categories/123` и `/advertisements/456`. Тебе нужно использовать методы `GET` и `POST`.

Например, для создания нового объвеления `Advert`, мы хотели бы отправить HTML-форму, используя http-метод POST, в URL `/advertisements`, например:

```html
<form action="/advertisements" method="POST">
  <!-- other form elements here -->
</form>
```

и чтобы обновить существующую запись (например, с id `1234`), мы хотели бы отправить запрос по адресу `/advertisements/1234`.

Обработчики `routes` должны либо перенаправлять на другой URL-адрес, либо визуализировать страницу. Как правило, страница, загруженная через HTTP POST, перенаправит на соответствующий URL-адрес, если запрос выполнен успешно, в противном случае появляется страница ошибки.

### Release 2: Организация серверного и клиентского кода

Грамотная организация кода является важной частью любого программного проекта. Наиболее важно следовать условным обозначениям, таким образом, новому члену вашей команды не нужно будет тратить дни на то, чтобы понять детали решения.

Разработчики могут не прийти к согласию в отношении того, каким соглашениям (об организации структуры кода) нужно следовать, но все согласятся, что какое-либо из соглашений лучше, чем ни одного. 

Предположим, что в этом приложении у вас будут модели `Advertisement` и `Category`. Будем описывать их в разных файлах:

```text
models
  | - advertisement.js
  | - category.js
```

Почему бы не сделать то же самое для ваших `routes`? Каждый файл с routes будет обрабатывать все запросы (CRUD) для каждой из имеющихся моделей. Например.:

```text
routes
  | - advertisement.routes.js
  | - category.routes.js
  | - index.routes.js
```

Вы можете использовать `index.routes.js` для запросов, которые не относятся к `Category` или к `Advertisement`. Ваша корневая страница `/`, куда ведет ссылка, хорошо подходит для `index.routes.js`

Такой же организационный метод может быть применен к вашим React-компонентам. 
Вместо заполнения вашего каталога `features` множеством React-компонентов:

```text
features
  | - CategoryIndex.jsx
  | - CategoryShow.jsx
  | - EditAdvertisement.jsx
  | - NewAdvertisement.jsx
  | - AdvertisementShow.jsx
  | - AdvertisementsIndex.jsx
```

Почему бы не создать подкаталог `advertisements` и `categories`?

```text
features
  | - advertisements
    | - Edit.jsx
    | - New.jsx
    | - Show.jsx
    | - Advertisements.jsx
  | - categories
    | - Categories.jsx
    | - Show.jsx
```

### Release 3: Запуск и отладка кода

Убедитесь, что основные функции работают. У нас должна быть возможность загрузить ваше приложение, запустить его и выполнить следующие действия:

1. Выбрать категорию для просмотра
2. Просмотреть все статьи в определенной категории
3. Просмотреть конкретную статью
4. Создать свою собственную статью
5. Редактировать свои статьи, используя «секретный ключ», который мы получим после создания своих статей 

Важно использовать архитектурный стиль REST API:

```text
Категория:
  - Получить все категории: GET /categories
  - Получить конкретную категорию: GET /categories/{id}
  - Создать новую категорию: POST /categories
  - Обновить категорию: PUT /categories/{id}
  - Удалить категорию: DELETE /categories/{id}

Объявление:
  - Получить все объявления: GET /advertisements
  - Получить объявления в конкретной категории: GET /categories/{category_id}/advertisements
  - Получить конкретное объявление: GET /advertisements/{id}
  - Создать новое объявление в конкретной категории: POST /categories/{category_id}/advertisements
  - Обновить объявление: PUT /advertisements/{id}
  - Удалить объявление: DELETE /advertisements/{id}
```
Таким образом, ты можешь манипулировать категориями и объявлениями через REST API, выполняя CRUD операции для каждой из сущностей.

### Release 4: Добавьте один заключительный компонент

Осталось добавить один заключительный компонент: что-нибудь очень классное! 
Что это значит? Это может означать что угодно. Новые нестандартные функции, крутой дизайн, оптимизация, встраивание дополнительных технологий.

Это не гонка; нет финишной прямой, только крайний срок (на завтра, кто бы сомневался!).
Потратьте время на то, чтобы сделать это приложение таким, чтобы вы могли им гордиться. Это не обязательно должно быть что-то очень впечетляющее — это может быть технически сложная задача, с которой вы справитесь.

Привнесите 100% вашего лучшего «я» в этот компонент. 
Сделай что-то значимое, сделай что-то великое!